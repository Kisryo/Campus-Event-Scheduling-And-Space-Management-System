{% extends 'student/base_student.html' %}

{% block title %}{{ organizer.organizer_name }} | Events{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock %}

{% block content %}

<div class="main-content-wrapper">
  
  <div class="header-section mb-4">
    <div class="d-flex justify-content-between align-items-center">
        <div>
            <h1>{{ organizer.organizer_name }}</h1>
            <p class="text-muted">
                <i class="fas fa-envelope mr-1"></i> {{ organizer.organizer_email }}
            </p>
        </div>
        <a href="{{ url_for('student_view.organizers') }}" class="btn btn-outline-secondary rounded-pill px-4">
            <i class="fas fa-arrow-left"></i> Back to Clubs
        </a>
    </div>
  </div>

  {% if events|length == 0 %}
      <div class="no-events-box">
          <h2>No upcoming events.</h2>
          <p>This club has not posted any upcoming events yet.</p>
      </div>
  {% else %}
      <div class="event-grid-container">
        {% for event in events %}
        <div class="event-card shadow-sm">
            <div class="event-img-wrapper">
                <img src="{{ url_for('static', filename='images/' ~ (event.event_img if event.event_img else 'default.jpg')) }}" 
                     alt="{{ event.title }}">
            </div>
            
            <div class="event-details">
                <h3 class="event-title">{{ event.title }}</h3>
                
                <p class="event-date">
                    <i class="far fa-calendar-alt"></i> {{ event.start_datetime.strftime('%d %b %Y, %I:%M %p') }}
                </p>
                
                <p class="event-location">
                    <i class="fas fa-map-marker-alt"></i> {{ event.venue_location if event.venue_location else 'Venue TBD' }}
                </p>

                <a href="{{ url_for('student_view.event_details', event_id=event.event_id) }}">
                    <button class="view-details-btn">View Details</button>
                </a>
            </div>
        </div>
        {% endfor %}
      </div>  
  {% endif %}

</div>

{% endblock %}
